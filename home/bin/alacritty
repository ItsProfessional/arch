#!/bin/zsh

THEMES=(
	"argonaut"
	"bloodmoon"
	"campbell"
	"darktooth"
	"hybrid"
	"itermdefault"
	"kitty"
	"taerminal"
	"tango"
	"wombat"
	"xterm"

	# not ansi
	"ayudark"
	"cobalt2"
	"darkside"
	"gruvboxdark"
	"iceberg"
	"irblack"
	"kdebreeze"
	"tangoish"
	"pencildark"

	# lacks distinct normal/bright
	"afterglow"
	"base16defaultdark"
	"dracula"
	"hyper"
	"newmoon"
	"nord"
	"oceanicnext"
	"onedark"
	"oxide"
	"snazzy"
	"tender"

	# not ansi, lacks distinct normal/bright
	"molokaidark"
	"monokaidark"
	"monokaipro"
	"monokaisoda"
	"nova"
)

BAD_THEMES=(
	# eyestrain
	"terminalapp"

	# just ugly
	"jellybeans"
	"ubuntu"
	"material"

	# not actually the same as default, has white switched for very dark grey
	"tomorrownight"
	"tomorrownightbright"

	# light
	"seabird"
	"gruvboxlight"
	"pencillite"
	"solarizedlight"
	"terminalappbasic"

	# not ansi
	"seoul256"
	"solarizeddark"

	# some colours lack contrast with others
	"sourcerer"
)

if [ "${1}" = "--theme" ]; then
	THEME=${2}
	shift
	shift
else
	THEME="${THEMES[$(( ( $RANDOM % ${#THEMES} ) + 1 ))]}"
fi
CFG="/tmp/alacritty.${THEME}.yml"

cp ~/.config/alacritty/alacritty.yml "${CFG}"
echo "colors: *${THEME}" >> "${CFG}"

ALACRITTY_THEME="${THEME}" \
	/usr/bin/alacritty \
	--config-file="${CFG}" \
	--no-live-config-reload \
	"$@" \
	&

