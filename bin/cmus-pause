#!/bin/sh

PLAYING=false

cmus-remote -C status | grep "status playing" > /dev/null 2>&1
if [ $? -eq 0 ]; then
	PLAYING=true
	DELTA="-5%"
else
	PLAYING=false
	DELTA="+5%"
	pactl set-sink-volume @DEFAULT_SINK@ 0
fi

if [ "${PLAYING}" = "false" ]; then
	cmus-remote -C player-play
fi

for i in $(seq 1 1 20); do
	sleep 0.05
	pactl set-sink-volume @DEFAULT_SINK@ "${DELTA}"
done

if [ "${PLAYING}" = "true" ]; then
	cmus-remote -C player-pause
fi
